## Docker

Сложность: **средняя**

<!--Автор: @asvezh-->

#### Задача:

Чем отличается виртуализация от контейнеризации?

#### Ответ:

<details><summary>Решение</summary>
<p>

```
Виртуализация - возможность запустить несколько операционных систем на одном физическом сервере.
Контейнеризация работает в одной и той же ОС, где приложения упакованы в контейнеры и запускаются на одном сервере.
```

</p>
</details>

______________________________________________________________________

Сложность: **низкая**

<!--Автор: @asvezh-->

#### Задача:

Что такое Dockerfile?

#### Ответ:

<details><summary>Решение</summary>
<p>

```
Dockerfile - конфигурационный файл, описывающий пошаговое создание среды вашего приложения. В этом файле подробно описывается, какие команды будут выполнены, какие образы задействованы, и какие настройки будут применены.
```

</p>
</details>

______________________________________________________________________

Сложность: **низкая**

<!--Автор: @asvezh-->

#### Задача:

Для чего используется команда EXPOSE в Dockerfile?

#### Ответ:

<details><summary>Решение</summary>
<p>

```
Проброс порта из контейнера в ОС, где запущен контейнер.
```

</p>
</details>

______________________________________________________________________

Сложность: **низкая**

<!--Автор: @asvezh-->

#### Задача:

Для чего нужен Docker-Compose?

#### Ответ:

<details><summary>Решение</summary>
<p>

```
Для организации совместного запуска нескольких контейнеров в соответствии с конфигурацией приложения.
```

</p>
</details>

______________________________________________________________________

Сложность: **низкая**

<!--Автор: @asvezh-->

#### Задача:

Как получить список запущенных контейнеров?

#### Ответ:

<details><summary>Решение</summary>
<p>

```bash
docker ps
```

</p>
</details>

#### Дополнительные вопросы:

Q: *Как получить список ВСЕХ контейнеров?*

A: -

<details><summary>Решение</summary>
<p>

```bash
docker ps -a
```

</p>
</details>

______________________________________________________________________

Сложность: **низкая**

<!--Автор: @asvezh-->

#### Задача:

Как проверить логи приложения, запущенного в контейнере?

#### Ответ:

<details><summary>Решение</summary>
<p>

```
Зайти внутрь контейнера:
docker exec -it <container> bash

Найти, куда пишутся логи, согласно конфигурации приложения.
```

</p>
</details>

#### Дополнительные вопросы:

Q: *Что означают флаги -it в команде exec?*

A: -

<details><summary>Решение</summary>
<p>

```
-i - перехват stdin контейнера (interactive)
-t - терминал
```

</p>
</details>

______________________________________________________________________

Сложность: **средняя**

<!--Автор: @asvezh-->

#### Задача:

Как запустить приложение на основе готового образа?

#### Ответ:

<details><summary>Решение</summary>
<p>

```bash
docker run <образ из Docker Hub> <параметры>
```

</p>
</details>

#### Дополнительные вопросы:

Q: *Если нужно запустить СВОЕ приложение на основе готового образа?*

A: -

<details><summary>Решение</summary>
<p>

```
Указать в Dockerfile имя необходимого образа (подтянется из Docker Hub/репозитория)
Загрузить туда свое приложение.
Создать образ на основе созданного dockerfile.
Поднять контейнер на основе созданного образа.
```

</p>
</details>

#### Дополнительные вопросы:

Q: *Как создать образ из dockerfile?*

A: -

<details><summary>Решение</summary>
<p>

```bash
docker build <dockerfile path>
```

</p>
</details>

______________________________________________________________________

Сложность: **средняя**

<!--Автор: @asvezh-->

#### Задача:

Как сделать локальный файл доступным из контейнера?

#### Ответ:

<details><summary>Решение</summary>
<p>

Основной способ - смонтировать директорию:

```bash
docker run -v <DIRECTORY>:<CONTAINER_DIRECTORY>
```

где DIRECTORY -  путь к папке, которую нужно смонтировать,
CONTAINER_DIRECTORY - путь внутри контейнера.

</p>
</details>

#### Дополнительные вопросы:

Q: *Альтернативный вариант?*

A: Как альтернатива - скопировать файл внутрь контейнера (с помощью scp).

______________________________________________________________________

Сложность: **средняя**

<!--Автор: @asvezh-->

#### Задача:

Почему нельзя запускать веб-сервер в контейнере на localhost?

#### Ответ:

<details><summary>Решение</summary>
<p>

У приложения не будет открытых портов наружу, сервис будет недоступен при обращении к контейнеру.

</p>
</details>

______________________________________________________________________

Сложность: **средняя**

<!--Автор: @asvezh-->

#### Задача:

Как упаковать приложение/тесты в docker?

#### Ответ:

<details><summary>Решение</summary>
<p>

Создать Docker-файл, описав все необходимые зависимости.
Docker build (запустит сборку образа)
Docker run (запустит контейнер на основе образа)

</p>
</details>

Сложность: **средняя**

<!--Автор: @iromanchuk-->

#### Задача:

Напишите пример набора команд установки зависимостей для Python приложения

#### Ответ:

<details><summary>Решение</summary>
<p>

```
FROM python:3.9-slim-buster

COPY ./requirements.txt /req/

RUN pip install --upgrade pip
RUN pip install -r /req/requirements.txt
```

</p>
</details>